
// Useful script to get credentials from Jenknis store
 
credsId = 'jenkinsp-for-gitlab-ssh' // Put here name of credentials you wanna check
//credsId = 'ALL' // Uncomment this line to print all credentials
 
List selectedCredentials = []
 
 
List jenkinsCredentials = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials (
                com.cloudbees.plugins.credentials.Credentials.class,
    Jenkins.getInstance(),
    null,
    null
)
 
 
if ( credsId != 'ALL' ) {
                selectedCredentials = jenkinsCredentials.findAll { it.id == credsId } as List
} else {
                selectedCredentials = jenkinsCredentials as List
}
 
  
selectedCredentials.eachWithIndex { creds, index ->
                println "\n=========================\n[ $index ]"
                creds.getProperties().each {
                println it
                }
}

